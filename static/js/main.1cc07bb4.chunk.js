(window.webpackJsonpshopcart=window.webpackJsonpshopcart||[]).push([[0],{113:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(41),s=a.n(c),o=(a(57),a(49)),l=a(42),i=a(6),d=a(7),m=a(10),u=a(8),h=a(2),p=a(9),b=a(43),f=a.n(b),g=a(5),v=a(12),E=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.cartSize;return r.a.createElement("nav",{className:"navbar navbar-light bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("img",{src:f.a,width:"30",height:"30",className:"d-inline-block align-top mr-2",alt:""}),r.a.createElement("span",{className:"font-weight-bold"},"Buy Courses")),r.a.createElement("div",{className:"ml-auto"},r.a.createElement("button",{className:"btn position-relative"},r.a.createElement(g.a,{icon:v.d,size:"lg"}),e>0&&r.a.createElement("span",{className:"badge badge-pill badge-info align-top position-absolute"},e)))))}}]),t}(n.Component),C=a(13),O=a.n(C),y=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).handleOrder=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DOWN";t.preventDefault(),e.setState({selectvalue:t.target.value?t.target.value:e.state.selectvalue,arrow:a},(function(){return e.props.handleChangeStateWithObject({sortby:e.state.selectvalue+a,currentPage:1})}))},e.handlerCurrency=function(t){t.preventDefault(),e.setState({currencyselect:t.target.value},(function(){return e.props.handleChangeStateWithObject({exchangeto:e.state.currencyselect})}))},e.state={arrow:"DOWN",selectvalue:"Date",currencyselect:"Choose..."},e.handleOrder=e.handleOrder.bind(Object(h.a)(e)),e.handlerCurrency=e.handlerCurrency.bind(Object(h.a)(e)),e}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"m-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-lg-5 my-1 m-lg-0"},r.a.createElement("input",{type:"text",className:"form-control form-control-sm",placeholder:"Search Courses...",onChange:this.props.searchCourses})),r.a.createElement("div",{className:"col-12 col-lg-4 my-1 m-lg-0"},r.a.createElement("label",{htmlFor:"sort-by",className:"col-form-label-sm mx-2 mb-0 pl-2 pl-lg-0"},"Sort By :"),r.a.createElement("select",{className:"d-inline w-50 form-control form-control-sm",onChange:this.handleOrder,value:this.state.selectvalue},r.a.createElement("option",{value:"Date"},"Date"),r.a.createElement("option",{value:"Price"},"Price"),r.a.createElement("option",{value:"Level"},"Level")),"UP"===this.state.arrow?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{"data-tip":"ascending","data-for":"arrowup",className:"mx-2"},r.a.createElement("button",{className:"btn btn-outline-dark btn-sm border-0",onClick:function(t){e.handleOrder(t)}},r.a.createElement(g.a,{icon:v.b}))),r.a.createElement(O.a,{id:"arrowup",place:"right",type:"dark",effect:"solid"})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{"data-tip":"descending","data-for":"arrowdown",className:"mx-2"},r.a.createElement("button",{className:"btn btn-outline-dark btn-sm border-0",onClick:function(t){e.handleOrder(t,"UP")}},r.a.createElement(g.a,{icon:v.a})),r.a.createElement(O.a,{id:"arrowdown",place:"right",type:"dark",effect:"solid"})))),r.a.createElement("div",{className:"col-12 col-lg-3 d-flex justify-content-start justify-content-lg-center"},r.a.createElement("label",{htmlFor:"sort-by",className:"col-form-label-sm mx-2 mb-0 pl-2 pl-lg-0"},"Currency:"),r.a.createElement("select",{className:"d-inline w-50 form-control form-control-sm mt-1 m-lg-0",value:this.state.currencyselect,onChange:this.handlerCurrency},r.a.createElement("option",{value:"Choose..."},"Choose..."),r.a.createElement("option",{value:"EUR"},"EUR"),r.a.createElement("option",{value:"ILS"},"ILS"),r.a.createElement("option",{value:"GBP"},"GBP")))))}}]),t}(n.Component),N=a(11),w=a.n(N),j=a(15),x=a(44),S=a.n(x),k=(a(77),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).handleEditModeChange=function(){e.setState({editmode:!e.state.editmode})},e.handleSmallRemoveButton=function(t){e.props.removeFromCart(t.target.closest("li").value)},e.state={editmode:!1},e.handleEditModeChange=e.handleEditModeChange.bind(Object(h.a)(e)),e}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.cartList,n=t.exChangeValues,c=t.exChangeTo,s=0;return r.a.createElement("aside",{id:"cart",className:"sticky-top"},r.a.createElement("div",{className:"clearfix"},r.a.createElement("h3",{className:"d-inline font-weight-light h5"},"Cart"),!w()(a)&&r.a.createElement("div",{className:"float-right"},r.a.createElement("span",{"data-tip":"Edit mode","data-for":"editmode"},r.a.createElement(S.a,{className:"bg-light",defaultChecked:this.state.editmode,onChange:this.handleEditModeChange})),r.a.createElement(O.a,{id:"editmode",type:"dark",effect:"solid"})),!w()(a)&&this.state.editmode&&r.a.createElement("div",{className:"float-right"},r.a.createElement("span",{"data-tip":"Clear all","data-for":"clearall"},r.a.createElement("button",{type:"button",className:"btn btn-sm text-uppercase",onClick:function(){return e.props.clearCartPopup("Are you sure?","You won't be able to revert this!","warning")}},r.a.createElement(g.a,{icon:j.a,size:"lg"}))),r.a.createElement(O.a,{id:"clearall",type:"dark",effect:"solid"}))),r.a.createElement("div",{className:"card bg-light border-0 p-2 shadow-sm"},r.a.createElement("ul",{className:"list-unstyled"},this.props.loading?r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):w()(a)?r.a.createElement("span",{className:"d-block text-center text-muted text-uppercase"},"Cart is Empty"):a.map((function(t){return s+=parseFloat(t.price),r.a.createElement("li",{key:t.id,value:t.id,className:"d-flex justify-content-between align-items-center py-2"},r.a.createElement("span",{className:"course-title pl-1"},t.name),r.a.createElement("span",{className:"course-price"},t.price,"$"),e.state.editmode&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{"data-tip":"Remove","data-for":"removeone"},r.a.createElement("button",{type:"button",className:"btn btn-sm text-danger",onClick:e.handleSmallRemoveButton},r.a.createElement(g.a,{icon:j.a,size:"sm"}))),r.a.createElement(O.a,{id:"removeone",place:"right",type:"dark",effect:"solid"})))}))),r.a.createElement("p",{className:"d-flex justify-content-between align-items-center mb-0 py-2"},r.a.createElement("span",{className:"course-title"},"Total"),r.a.createElement("span",{className:"cart-total-price"},s.toFixed(2),"$",0!==s&&null!==n&&"Choose..."!==c&&n[c]&&r.a.createElement("small",{className:"pl-1"},"(",(s*n[c]).toFixed(2)," ",c,")")))))}}]),t}(n.Component)),D=a(22),P=a.n(D),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleReadMoreAndLess=function(){a.props.closeOpenDescription(a.buttonref),a.setState({read:!a.state.read})},a.print=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35,n=e.length>t?" "===e[t-1]?e.substr(0,t-1)+" ...":e.substr(0,t)+"...":e;return r.a.createElement(r.a.Fragment,null,a.state.read?n:e,35!==t&&r.a.createElement("button",{ref:a.buttonref,className:"btn btn-sm btn-link",onClick:a.handleReadMoreAndLess},a.state.read?"Read more":"Read less"))},a.handleAddToCart=function(e){a.setState({show:!0}),a.props.addToCart(e)},a.handleRemoveFromCart=function(e){a.setState({show:!1}),a.props.removeFromCart(e)},a.state={show:!1,read:!0},a.buttonref=r.a.createRef(),a.print=a.print.bind(Object(h.a)(a)),a.handleAddToCart=a.handleAddToCart.bind(Object(h.a)(a)),a.handleRemoveFromCart=a.handleRemoveFromCart.bind(Object(h.a)(a)),a.handleReadMoreAndLess=a.handleReadMoreAndLess.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({show:this.props.isInCard})}},{key:"componentDidUpdate",value:function(e){this.props.isInCard!==e.isInCard&&this.setState({show:this.props.isInCard})}},{key:"render",value:function(){var e=this,t=this.props.children,a=this.props,n=a.exChangeValues,c=a.exChangeTo;return r.a.createElement("div",{className:"course-card col-12 col-md-6 my-2"},r.a.createElement("div",{className:"card border-0 shadow-sm bg-light"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},this.print(t.name)),r.a.createElement("p",{className:"card-text"},this.print(t.description,110)),r.a.createElement("p",{className:"card-text card-price m-0"},t.price,"$",null!==n&&"Choose..."!==c&&n[c]&&r.a.createElement("small",{className:"pl-1"},"(",(t.price*n[c]).toFixed(2)," ",c,")"))),r.a.createElement("div",{className:"card-footer bg-transparent border-0 clearfix"},r.a.createElement("small",{className:"text-muted"},"Level: ",t.level," - ",t.added_date),r.a.createElement("div",{className:"float-right"},this.state.show?r.a.createElement("button",{className:"btn btn-outline-danger btn-sm ".concat(this.state.show?"show":""),onClick:function(){return e.handleRemoveFromCart(t.id)}},r.a.createElement(g.a,{icon:j.a})):r.a.createElement("button",{className:"btn btn-outline-primary btn-sm ".concat(this.state.show?"":"show"),onClick:function(){return e.handleAddToCart(t)}},r.a.createElement(g.a,{icon:v.c}))))))}}]),t}(n.Component),T=a(45),L=a.n(T),R=a(17),B=a(48),W=a(26),A=a.n(W),M=function(e,t,a){return A.a.fire({title:e,text:t,type:a,showCancelButton:!0,cancelButtonText:"No",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, reset it!"})},U=function(){return A.a.fire("Deleted!","You cart is empty now.","success")};a(113),a(114);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var _=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).handleChangeStateWithObject=function(t){e.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t))},e.closeOpenDescription=function(t){if(null===e.readmoreisopened)e.readmoreisopened=t;else if(e.readmoreisopened===t)e.readmoreisopened=null;else try{e.readmoreisopened.current.click()}catch(a){e.readmoreisopened=null}finally{e.readmoreisopened=t}},e.sorted=function(){var t=e.state,a=t.filtered,n=t.sortby,r={Beginners:0,"Lower Intermediate":1,"Upper Intermediate":2,"Lower Advanced":3,Advanced:4,"Upper Advanced":5};switch(n){case"DateUP":return a.sort((function(e,t){return new Date(e.added_date)-new Date(t.added_date)}));case"DateDOWN":return a.sort((function(e,t){return new Date(t.added_date)-new Date(e.added_date)}));case"PriceUP":return a.sort((function(e,t){return parseFloat(e.price)-parseFloat(t.price)}));case"PriceDOWN":return a.sort((function(e,t){return parseFloat(t.price)-parseFloat(e.price)}));case"LevelUP":return a.sort((function(e,t){return r[t.level]<r[e.level]?-1:r[t.level]>r[e.level]?1:e.id<t.id?-1:e.id>t.id&&1}));case"LevelDOWN":return a.sort((function(e,t){return r[e.level]<r[t.level]?-1:r[e.level]>r[t.level]?1:e.id<t.id?-1:e.id>t.id&&1}));default:return a.sort((function(e,t){return new Date(t.added_date)-new Date(e.added_date)}))}},e.clearCartPopup=function(t,a,n){w()(e.state.cart)||M(t,a,n).then((function(t){t.value&&U().then((function(){e.setState({cart:[]},(function(){return localStorage.clear()}))}))}))},e.addToCart=function(t){var a=t.id,n=t.name,r=t.price;e.setState({cart:[].concat(Object(o.a)(e.state.cart),[{id:a,name:n,price:r}])},(function(){e.securels.set("cart",e.state.cart)}))},e.removeFromCart=function(t){e.setState({cart:e.state.cart.filter((function(e){return e.id!==t}))},(function(){e.securels.set("cart",e.state.cart)}))},e.searchCourses=function(t){var a=t.target.value,n=[];n=""!==a?e.state.courses.filter((function(e){var t=e.name.toLowerCase(),n=a.toLowerCase();return t.includes(n)})):e.state.courses,e.setState({filtered:n})},e.eachCourse=function(t,a){return!w()(e.state.cart)&&e.state.cart.some((function(e){return e.id===t.id}))?r.a.createElement(F,{key:t.id,closeOpenDescription:e.closeOpenDescription,addToCart:e.addToCart,removeFromCart:e.removeFromCart,isInCard:!0,exChangeValues:e.exchangevalues,exChangeTo:e.state.exchangeto},t):r.a.createElement(F,{closeOpenDescription:e.closeOpenDescription,key:t.id,addToCart:e.addToCart,removeFromCart:e.removeFromCart,isInCard:!1,exChangeValues:e.exchangevalues,exChangeTo:e.state.exchangeto},t)},e.securels=new L.a,e.state={loading:!0,courses:[],filtered:[],cart:[],sortby:"",currentPage:1,exchangeto:"Choose...",errormsg:"No results"},e.readmoreisopened=null,e.exchangevalues=null,e.eachCourse=e.eachCourse.bind(Object(h.a)(e)),e.addToCart=e.addToCart.bind(Object(h.a)(e)),e.removeFromCart=e.removeFromCart.bind(Object(h.a)(e)),e.searchCourses=e.searchCourses.bind(Object(h.a)(e)),e.handleChangeStateWithObject=e.handleChangeStateWithObject.bind(Object(h.a)(e)),e.sorted=e.sorted.bind(Object(h.a)(e)),e.clearCartPopup=e.clearCartPopup.bind(Object(h.a)(e)),e.closeOpenDescription=e.closeOpenDescription.bind(Object(h.a)(e)),e}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=P.a.get("https://testapi.io/api/MohamadHusari/courses").then((function(t){e.setState({courses:t.data.courses,loading:!1,filtered:t.data.courses})})).catch((function(t){e.setState({loading:!1,errormsg:"Can't load items data, please try again later"})})),a=P.a.get("https://api.exchangeratesapi.io/latest?base=USD").then((function(t){e.exchangevalues=t.data.rates})).catch((function(t){e.exchangevalues=null}));Promise.all([t,a]).then((function(){"No results"===e.state.errormsg&&localStorage.cart&&e.setState({cart:e.securels.get("cart")},(function(){return e.clearCartPopup("Your cart isn't empty!!","Do you want to reset it?","warning")}))}))}},{key:"render",value:function(){var e=this,t=this.state.currentPage,a=this.state.filtered.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{cartSize:this.state.cart.length}),r.a.createElement("div",{className:"container"},r.a.createElement(y,{searchCourses:this.searchCourses,handleChangeStateWithObject:this.handleChangeStateWithObject}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{id:"main",className:"col-12 col-lg-9 order-1 order-lg-0"},this.state.loading?r.a.createElement("div",{className:"d-flex justify-content-center align-items-center h-100"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):w()(this.state.filtered)?r.a.createElement("p",{className:"d-flex h-100 justify-content-center align-items-center text-uppercase"},this.state.errormsg):r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"row"},this.sorted().slice(10*t-10,10*t>a?a:10*t).map(this.eachCourse)),r.a.createElement("div",{className:"my-2"},r.a.createElement(R.ThemeProvider,null,r.a.createElement(B.Pagination,{totalPages:Math.ceil(a/10),currentPage:t,onChange:function(t){e.setState({currentPage:t},(function(){return e.forceUpdate()}))}}))))),r.a.createElement("div",{className:"col-lg-3 order-0 order-lg-1 my-2 my-lg-0 mx-3 mx-lg-0"},r.a.createElement(k,{cartList:this.state.cart,loading:this.state.loading,clearCartPopup:this.clearCartPopup,removeFromCart:this.removeFromCart,exChangeValues:this.exchangevalues,exChangeTo:this.state.exchangeto})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(115);s.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},43:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},52:function(e,t,a){e.exports=a(116)},57:function(e,t,a){}},[[52,1,2]]]);
//# sourceMappingURL=main.1cc07bb4.chunk.js.map